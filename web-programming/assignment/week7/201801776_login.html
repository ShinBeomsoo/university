<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>201801776 Login</title>
    <link rel="stylesheet" type="text/css" href="./login.css">
</head>
<body>
<form method="post" class="login-form">
    <h2 style="text-align: center">로그인</h2>
    <label class="label-nickname">별명(nickname)</label>
    <input type="text" id="nickname" class="input-nickname" placeholder="별명(Nickname)"><br/>
    <span id="check-nickname" style="color:red"></span><br/>
    <label class="label-password">비밀번호</label>
    <input type="password" id="password" class="input-password" placeholder="비밀번호(Password)"><br/>
    <span id="check-password" style="color:red"></span><br/>
    <input type="button" class="btn" onclick="button()" value="로그인하기"/>
    <div class="signup">
        <a href="./201801776_singup.html" class="signup-item">회원가입하러 가기</a>
    </div>
</form>
</body>
<script>
  const maxNickname = 16;
  const minNickname = 4;
  const minPassword = 8;

  let button = () => {
    let nickname = document.getElementById('nickname').value;
    let password = document.getElementById('password').value;
    let isCorrectNickname = checkNickname(nickname);
    let isCorrectPassword = checkPassword(password);
    if (!isCorrectNickname || !isCorrectPassword) {
      return false;
    } else {
      alert("rolling page로 넘어가기");
      // location.href = './201801776_rolling_page.html';
    }
  };

  let checkNickname = (nickname) => {
    let checkNicknameEle = document.getElementById("check-nickname");
    if (nickname === "") {
      checkNicknameEle.innerText = "닉네임을 입력해주세요.";
      return false;
    }
    if (nickname.length < minNickname) {
      checkNicknameEle.innerText = "닉네임은 4자 이상이어야 합니다.";
      return false;
    }
    if (nickname.length > maxNickname) {
      checkNicknameEle.innerText = "닉네임은 16자 이하이어야 합니다.";
      return false;
    }
    checkNicknameEle.innerText = "";
    return true;
  };
  let checkPassword = (pw) => {
    let checkPasswordEle = document.getElementById("check-password");
    if (pw === "") {
      checkPasswordEle.innerText = "패스워드를 입력해주세요.";
      return false;
    }
    if (pw.length < minPassword) {
      checkPasswordEle.innerText = "패스워드는 8자 이상이어야 합니다.";
      return false;
    }
    if (pw.search(/[a-z]/i) < 0) {
      checkPasswordEle.innerText = "패스워드에는 문자가 포함되어 있어야 합니다.";
      return false;
    }
    if (pw.search(/[0-9]/) < 0) {
      checkPasswordEle.innerText = "패스워드에는 숫자가 포함되어 있어야 합니다.";
      return false;
    }
    checkPasswordEle.innerText = "";
    return true;
  };
</script>

</html>
