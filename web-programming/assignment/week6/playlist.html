<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>201801776</title>
    <link rel="stylesheet" type="text/css" href="./playlist.css">
</head>
<body>
<section class="input-section">
    <label>
        <input placeholder="노래 제목 및 가수" id="input">
    </label>
    <button id="button">노래추가</button>
</section>
<section class="show-section">
    <ul id="list">
        <li class="item" id="song-1">If I die tomorrow - 빈지노
            <button onclick="remove(this.id)" id="button-1">삭제</button>
        </li>
        <li class="item" id="song-2">always awake - 빈지노
            <button onclick="remove(this.id)" id="button-2">삭제</button>
        </li>
        <li class="item" id="song-3">상사화 - 안예은
            <button onclick="remove(this.id)" id="button-3">삭제</button>
        </li>
        <li class="item" id="song-4">Autumn Breeze - JIDA
            <button onclick="remove(this.id)" id="button-4">삭제</button>
        </li>
        <li class="item" id="song-5">또 싸워 - 에픽하이
            <button onclick="remove(this.id)" id="button-5">삭제</button>
        </li>
    </ul>
</section>
<script>
  let id_count = 6;
  let button = document.getElementById('button');
  let input = document.getElementById('input');
  let list = document.getElementById('list');
  button.addEventListener('click', clickButton);

  function clickButton() {
    let liItem = document.createElement('li');
    liItem.className = "item";
    liItem.id = `song-${id_count}`;
    liItem.innerHTML = input.value;

    let liButton = document.createElement('button');
    liButton.id = `button-${id_count}`;
    liButton.innerHTML = "삭제";
    liButton.onclick = function () {
      let number = this.id.split("-")[1];
      if (confirm("정말 삭제하시겠습니까??") === true) {    //확인
        document.getElementById(this.id).remove();
        document.getElementById(`song-${number}`).remove();
      } else {   //취소
        return false;
      }
    };

    liItem.appendChild(liButton);
    list.appendChild(liItem);

    id_count += 1;
  }

  function remove(id) {
    let number = id.split("-")[1];
    if (confirm("정말 삭제하시겠습니까??") === true) {    //확인
      document.getElementById(id).remove();
      document.getElementById(`song-${number}`).remove();
    } else {   //취소
      return false;
    }
  }
</script>
</body>
</html>
