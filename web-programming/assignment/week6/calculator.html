<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>201801776</title>
    <link rel="stylesheet" type="text/css" href="./calculator.css">
</head>
<body>
<table class="calculator" style="width: 400px; height: 400px; text-align: center;" border="1">
    <caption class="calculator-cation">계산기</caption>
    <tr style="height: 50px">
        <td colspan="5">
            <p style="height: 100%;" id="input-result"></p>
        </td>
    </tr>
    <tr style="height: 50px">
        <td colspan="5">
            <input style="width: 400px; height: 100%;" id="input-display">
        </td>
    </tr>
    <tr>
        <th onclick="send('7')" class="number">7</th>
        <th onclick="send('8')" class="number">8</th>
        <th onclick="send('9')" class="number">9</th>
        <th onclick="send('/')" class="operator">÷</th>
        <td onclick="send('ce')" rowspan="2" class="operator">CE</td>
    </tr>
    <tr>
        <th onclick="send('4')" class="number">4</th>
        <th onclick="send('5')" class="number">5</th>
        <th onclick="send('6')" class="number">6</th>
        <th onclick="send('*')" class="operator">X</th>
    </tr>
    <tr>
        <th onclick="send('1')" class="number">1</th>
        <th onclick="send('2')" class="number">2</th>
        <th onclick="send('3')" class="number">3</th>
        <th onclick="send('-')" class="operator">-</th>
        <th onclick="send('%')" class="operator">%</th>
    </tr>
    <tr>
        <td onclick="send('0')" colspan="2" class="number">0</td>
        <td onclick="send('.')" class="number">.</td>
        <th onclick="send('+')" class="operator">+</th>
        <th onclick="send('=')" class="operator">=</th>
    </tr>
</table>
<script>
  let result = 0;
  const operator_action = {
    "=": calculate_result, "ce": clear,
  };

  function send(char) {
    let display_value = document.getElementById('input-display');

    if (char === '=' || char === 'ce') {
      operator_action[char]();
    } else {
      display_value.value = display_value.value + char;
    }
  }

  function clear() {
    let display_value = document.getElementById('input-display');
    display_value.value = null;
    let result_value = document.getElementById('input-result');
    result_value.innerHTML = null;
    result = 0;
  }

  function calculate_result() {
    let display_equation = document.getElementById('input-display');
    let display_result = document.getElementById('input-result');
    result = eval(display_equation.value);
    display_result.innerHTML = result;
  }
</script>
</body>
</html>
